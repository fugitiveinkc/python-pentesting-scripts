"""
Questions left to address:
1) how to run functions at definition library python script call
2) how do subdomains relate to the internet as a whole?
...
"""

import requests, sys

def subdomain_guesser(wordlist, main_domain):
    """used to guess subdomains of main domain. provide a .txt file as first arg and domain name (ex. google.com) as second arg. both args are strings. produces txt files called functional-domains.txt that contains guesses that are valid"""
    
    #open subdomains list
    subdomains = open(wordlist,'r')
    functional_subdomains = open("functional-subdomains.txt", "w")

    #loop through subdomains list and guess
    for line in subdomains:
        try:
            r = requests.get(f"https://{line.strip()}.{main_domain}")
            functional_subdomains.write(f"https://{line.strip()}.{main_domain}\n")
        except:
            pass

    #close files
    subdomains.close()
    functional_subdomains.close()

def directoryinsubdomain_guesser(main_domain, wordlist):
    """docstring here"""

    #open directories wordlist
    directories = open(wordlist,'r')
    functional_directories = open("functional-directories.txt", "w")

    #loop through directories list and guess
    for directory in directories:
        try:
            r = request.get(f"https://{main_domain}/{directory.strip()}")
            functional_directories.write(f"https://{main_domain}/{directory.strip()}\n"}
        except:
            pass

    #close files
    directories.close()
    functional_directories.close()


